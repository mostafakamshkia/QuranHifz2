<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ø±ÙˆØ¶Ø© Ø§Ù„Ù‚Ø±Ø¢Ù† | Ù„Ù„Ø£Ø·ÙØ§Ù„</title>

  <!-- Ø®Ø·ÙˆØ· Ø¹Ø±Ø¨ÙŠØ© Ù„Ø·ÙŠÙØ© -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #FFF8F1;
      --card: #ffffff;
      --text: #1f2937;
      --muted: #6b7280;
      --accent: #FFD166;
      /* Ø£ØµÙØ± Ù…Ø¨Ù‡Ø¬ */
      --boy: #5CB8E4;
      /* Ø£Ø²Ø±Ù‚ ÙˆÙ„Ø§Ø¯ÙŠ */
      --girl: #FF7B9C;
      /* ÙˆØ±Ø¯ÙŠ Ø¨Ù†Ø§ØªÙŠ */
      --primary: #6C63FF;
      /* Ø¨Ù†ÙØ³Ø¬ÙŠ Ù„Ø·ÙŠÙ */
      --ring: rgba(108, 99, 255, .25);
      --shadow: 0 10px 30px rgba(0, 0, 0, .08);
    }

    * {
      box-sizing: border-box;
    }

    html,
    body {
      height: 100%;
    }

    body {
      margin: 0;
      font-family: "Tajawal", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:
        radial-gradient(1200px 500px at 100% -10%, #FFE0EA 0%, transparent 70%),
        radial-gradient(900px 400px at -10% 0%, #E2F4FF 0%, transparent 60%),
        var(--bg);
      color: var(--text);
    }

    .container {
      width: min(1100px, 94vw);
      margin: 0 auto;
      padding: 24px 0 60px;
    }

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      padding: 16px 0 8px;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .logo {
      width: 48px;
      height: 48px;
      border-radius: 12px;
      background: linear-gradient(135deg, var(--accent), #FFAE56);
      display: grid;
      place-items: center;
      color: #7c4c00;
      font-weight: 800;
      box-shadow: var(--shadow);
    }

    .brand h1 {
      font-size: 22px;
      margin: 0;
    }

    .brand p {
      margin: 0;
      color: var(--muted);
      font-size: 14px;
    }

    .hero {
      margin: 18px 0 10px;
      padding: 22px;
      background: linear-gradient(135deg, rgba(92, 184, 228, .12), rgba(255, 123, 156, .12));
      border: 1px solid rgba(0, 0, 0, .06);
      border-radius: 18px;
      backdrop-filter: blur(3px);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
    }

    .hero h2 {
      margin: 0 0 6px;
      font-size: 24px;
    }

    .hero p {
      margin: 0;
      color: var(--muted);
    }

    .steps {
      display: grid;
      gap: 14px;
      grid-template-columns: 1fr;
      margin-top: 12px;
    }

    .card {
      background: var(--card);
      border: 1px solid rgba(0, 0, 0, .05);
      border-radius: 18px;
      padding: 18px;
      box-shadow: var(--shadow);
    }

    .section-title {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 14px;
    }

    .section-title h3 {
      margin: 0;
      font-size: 20px;
    }

    .hint {
      color: var(--muted);
      font-size: 14px;
    }

    /* Ø§Ø®ØªÙŠØ§Ø± ÙˆÙ„Ø¯/Ø¨Ù†Øª */
    .gender-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(200px, 1fr));
      gap: 16px;
    }

    .gender-card {
      position: relative;
      cursor: pointer;
      border-radius: 16px;
      padding: 16px;
      isolation: isolate;
      border: 2px solid transparent;
      transition: .25s ease;
      display: flex;
      align-items: center;
      gap: 14px;
      min-height: 92px;
      overflow: hidden;
    }

    .gender-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 14px 28px rgba(0, 0, 0, .08);
    }

    .gender-card.active {
      border-color: var(--primary);
      box-shadow: 0 0 0 6px var(--ring), var(--shadow);
    }

    .gender-card .icon {
      width: 64px;
      height: 64px;
      border-radius: 14px;
      display: grid;
      place-items: center;
      font-size: 34px;
      color: #fff;
      animation: float 3s ease-in-out infinite;
    }

    .gender-card.boy {
      background: linear-gradient(135deg, rgba(92, 184, 228, .12), #fff);
    }

    .gender-card.boy .icon {
      background: linear-gradient(135deg, var(--boy), #3aa2cf);
    }

    .gender-card.girl {
      background: linear-gradient(135deg, rgba(255, 123, 156, .12), #fff);
    }

    .gender-card.girl .icon {
      background: linear-gradient(135deg, var(--girl), #ff6289);
    }

    .gender-card .txt b {
      display: block;
      font-size: 18px;
    }

    .gender-card .txt small {
      color: var(--muted);
    }

    @keyframes float {

      0%,
      100% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-6px);
      }
    }

    /* Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¬Ø²Ø¡ */
    .juz-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(180px, 1fr));
      gap: 16px;
    }

    .juz-card {
      cursor: pointer;
      border-radius: 16px;
      padding: 16px;
      border: 2px solid rgba(0, 0, 0, .06);
      background: #fff;
      transition: .25s ease;
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .juz-card:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow);
    }

    .juz-card.active {
      border-color: var(--primary);
      box-shadow: 0 0 0 6px var(--ring), var(--shadow);
    }

    .juz-card .bubble {
      width: 54px;
      height: 54px;
      border-radius: 50%;
      display: grid;
      place-items: center;
      color: #fff;
      font-weight: 800;
    }

    .juz-card.amma .bubble {
      background: linear-gradient(135deg, #00C2A8, #00A38F);
    }

    .juz-card.tabarak .bubble {
      background: linear-gradient(135deg, #FF8C42, #FF6A00);
    }

    /* ÙÙ‡Ø±Ø³ Ø§Ù„Ø³ÙˆØ± */
    .surah-wrap {
      margin-top: 6px;
    }

    .surah-info {
      color: var(--muted);
      margin: 0 0 10px;
    }

    .surah-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
      gap: 10px;
    }

    .surah-tile {
      background: #fff;
      border: 1px solid rgba(0, 0, 0, .06);
      border-radius: 14px;
      padding: 12px;
      display: flex;
      align-items: center;
      gap: 10px;
      cursor: pointer;
      transition: .2s ease;
      position: relative;
      min-height: 56px;
      text-decoration: none;
      color: var(--text);
    }

    .surah-tile:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow);
    }

    .surah-num {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: grid;
      place-items: center;
      font-weight: 800;
      color: #fff;
      background: linear-gradient(135deg, #6C63FF, #4F46E5);
      flex: 0 0 36px;
    }

    .surah-name {
      font-weight: 700;
    }

    .surah-tile small {
      color: var(--muted);
    }

    /* Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª */
    .quiz-card {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      gap: 14px;
      background: linear-gradient(135deg, rgba(108, 99, 255, .08), rgba(0, 194, 168, .08));
      border: 1px solid rgba(0, 0, 0, .06);
      border-radius: 16px;
      padding: 16px;
    }

    .btn {
      border: none;
      cursor: pointer;
      padding: 12px 16px;
      border-radius: 12px;
      font-weight: 800;
      background: linear-gradient(135deg, var(--primary), #4F46E5);
      color: #fff;
      box-shadow: var(--shadow);
      transition: .2s ease;
    }

    .btn:hover {
      transform: translateY(-2px);
    }

    .btn.secondary {
      background: #fff;
      color: var(--text);
      border: 1px solid rgba(0, 0, 0, .08);
    }

    /* ÙÙˆØªØ± */
    footer {
      margin-top: 30px;
      color: var(--muted);
      font-size: 14px;
      text-align: center;
    }

    /* Ø±ÙŠØ³Ø¨ÙˆÙ†Ø³Ù */
    @media (max-width: 700px) {

      .gender-grid,
      .juz-grid {
        grid-template-columns: 1fr;
      }

      .hero {
        flex-direction: column;
        align-items: flex-start;
      }
    }

    /* Ø­Ø±ÙƒØ© Ø£Ù‚Ù„ Ù„Ø§Ø­ØªØ±Ø§Ù… Ø§Ù„ÙˆØµÙˆÙ„ */
    @media (prefers-reduced-motion: reduce) {
      .gender-card .icon {
        animation: none;
      }

      .gender-card:hover,
      .juz-card:hover,
      .surah-tile:hover,
      .btn:hover {
        transform: none;
      }
    }

    /* ØªÙˆØ³Øª Ø¨Ø³ÙŠØ· */
    .toast {
      position: fixed;
      bottom: 18px;
      right: 18px;
      left: 18px;
      margin: auto;
      width: fit-content;
      max-width: 90vw;
      background: #111827;
      color: #fff;
      padding: 10px 14px;
      border-radius: 10px;
      opacity: 0;
      transform: translateY(10px);
      transition: .25s ease;
      pointer-events: none;
      z-index: 99;
    }

    .toast.show {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
</head>
<body>

  <div class="container">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true">ğŸ“—</div>
        <div>
          <h1>Ø±ÙˆØ¶Ø© Ø§Ù„Ù‚Ø±Ø¢Ù†</h1>
          <p>ØªØ¹Ù„Ù… Ù…Ù…ØªØ¹ Ù„Ù„Ø£Ø·ÙØ§Ù„ â€” ØµÙˆØ±ØŒ ØªÙ„Ø§ÙˆØ©ØŒ ÙˆØ§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø¨Ø³ÙŠØ·Ø©</p>
        </div>
      </div>
    </header>

    <section class="hero">
      <div>
        <h2>Ù…Ø±Ø­Ø¨Ø§Ù‹ ğŸ‘‹</h2>
        <p>Ø§Ø®ØªÙØ± Ù‡Ù„ Ø§Ù„Ø·ÙÙ„ ÙˆÙ„Ø¯ Ø£Ù… Ø¨Ù†ØªØŒ Ø«Ù… Ø§Ø®ØªÙØ± Ø§Ù„Ø¬Ø²Ø¡ØŒ ÙˆØ¨Ø¹Ø¯Ù‡Ø§ Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙˆØ±Ø© Ù„Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„ÙŠÙ‡Ø§.</p>
      </div>
      <div>
        <button class="btn secondary" onclick="scrollToIndex()">Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„ÙÙ‡Ø±Ø³ Ø§Ù„Ø³ÙˆØ±</button>
      </div>
    </section>

    <!-- 1) Ø§Ø®ØªÙŠØ§Ø± ÙˆÙ„Ø¯/Ø¨Ù†Øª -->
    <section class="card">
      <div class="section-title">
        <h3>1) Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø·ÙÙ„</h3>
        <span class="hint">Ø³ØªÙØ³ØªØ®Ø¯Ù… Ù„ØªØ®ØµÙŠØµ Ø§Ù„ØµÙˆØ± Ù„Ø§Ø­Ù‚Ø§Ù‹</span>
      </div>

      <div class="gender-grid" role="group" aria-label="Ø§Ø®ØªÙŠØ§Ø± ÙˆÙ„Ø¯ Ø£Ùˆ Ø¨Ù†Øª">
        <div class="gender-card boy" id="genderBoy" tabindex="0" role="button" aria-pressed="false" aria-label="ÙˆÙ„Ø¯">
          <div class="icon" aria-hidden="true">ğŸ‘¦</div>
          <div class="txt">
            <b>ÙˆÙ„Ø¯</b>
            <small>Ø£Ù„Ø¹Ø§Ø¨ ÙˆØµÙˆØ± Ø¨Ø·Ø§Ø¨Ø¹ ÙˆÙ„Ø§Ø¯ÙŠ</small>
          </div>
        </div>

        <div class="gender-card girl" id="genderGirl" tabindex="0" role="button" aria-pressed="false" aria-label="Ø¨Ù†Øª">
          <div class="icon" aria-hidden="true">ğŸ‘§</div>
          <div class="txt">
            <b>Ø¨Ù†Øª</b>
            <small>Ø£Ù„Ø¹Ø§Ø¨ ÙˆØµÙˆØ± Ø¨Ø·Ø§Ø¨Ø¹ Ø¨Ù†Ø§ØªÙŠ</small>
          </div>
        </div>
      </div>
    </section>

    <!-- 2) Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¬Ø²Ø¡ -->
    <section class="card">
      <div class="section-title">
        <h3>2) Ø§Ø®ØªØ± Ø§Ù„Ø¬Ø²Ø¡</h3>
        <span class="hint">Ø¬Ø²Ø¡ Ø¹Ù… (Ù£Ù ) Ø£Ùˆ Ø¬Ø²Ø¡ ØªØ¨Ø§Ø±Ùƒ (Ù¢Ù©)</span>
      </div>

      <div class="juz-grid" role="group" aria-label="Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¬Ø²Ø¡">
        <div class="juz-card amma" id="juz30" tabindex="0" role="button" aria-pressed="false" data-juz="30">
          <div class="bubble">30</div>
          <div>
            <b>Ø¬Ø²Ø¡ Ø¹Ù…</b>
            <div class="hint">Ù…Ù† Ø³ÙˆØ±Ø© Ø§Ù„Ù†Ø¨Ø£ Ø¥Ù„Ù‰ Ø§Ù„Ù†Ø§Ø³</div>
          </div>
        </div>

        <div class="juz-card tabarak" id="juz29" tabindex="0" role="button" aria-pressed="false" data-juz="29">
          <div class="bubble">29</div>
          <div>
            <b>Ø¬Ø²Ø¡ ØªØ¨Ø§Ø±Ùƒ</b>
            <div class="hint">Ù…Ù† Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ù„Ùƒ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø±Ø³Ù„Ø§Øª</div>
          </div>
        </div>
      </div>
    </section>

    <!-- 3) ÙÙ‡Ø±Ø³ Ø§Ù„Ø³ÙˆØ± -->
    <section class="card" id="indexSection">
      <div class="section-title">
        <h3>3) ÙÙ‡Ø±Ø³ Ø§Ù„Ø³ÙˆØ±</h3>
        <span class="hint">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„Ø³ÙˆØ±Ø© Ù„Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„ØµÙØ­ØªÙ‡Ø§</span>
      </div>

      <div class="surah-wrap">
        <p class="surah-info" id="surahInfo">Ø§Ø®ØªØ± Ø§Ù„Ø¬Ø²Ø¡ Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø³ÙˆØ±.</p>
        <div class="surah-grid" id="surahGrid" aria-live="polite"></div>
      </div>
    </section>

    <!-- 4) Ø®Ø§Ù†Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª -->
    <section class="card">
      <div class="section-title">
        <h3>4) Ø®Ø§Ù†Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</h3>
        <span class="hint">Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù…Ø±Ù†Ø© (ØªØªØºÙŠØ± Ø­Ø³Ø¨ Ø§Ù„Ø¬Ø²Ø¡ ÙˆØ§Ù„Ø³ÙˆØ±Ø©)</span>
      </div>

      <div class="quiz-card">
        <div>
          <b>Ø§Ø¨Ø¯Ø£ Ø§Ø®ØªØ¨Ø§Ø±Ø§Ù‹ Ù…Ù†Ø§Ø³Ø¨Ø§Ù‹ Ù„Ø¹Ù…Ø± Ø§Ù„Ø·ÙÙ„ ğŸ¯</b>
          <div class="hint">Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø£Ø³Ø¦Ù„Ø© Ù…Ø®ØªÙ„ÙØ© ÙƒÙ„ Ù…Ø±Ø© â€” Ø§Ø®ØªØ± Ø§Ù„Ù†ÙˆØ¹ ÙˆØ§Ù„Ø¬Ø²Ø¡ Ø«Ù… Ø§Ø¨Ø¯Ø£.</div>
        </div>
        <div style="display:flex; gap:10px; flex-wrap:wrap;">
          <button class="btn" id="startQuizBtn">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</button>
          <button class="btn secondary" id="quizOptionsBtn">Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</button>
        </div>
      </div>
    </section>

    <footer>
      Ø³ÙŠØªÙ… Ø±Ø¨Ø· Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© Ø¨ØµÙØ­Ø§Øª: Ø§Ù„Ø³ÙˆØ±Ø©ØŒ ÙˆØ§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù„Ø§Ø­Ù‚Ø§Ù‹. ğŸ‘Œ
    </footer>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script>
    // â€”â€” Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: Ø§Ù„Ø³ÙˆØ± Ù„ÙƒÙ„ Ø¬Ø²Ø¡ â€”â€”
    const JUZ_30 = [{
      num: 78,
      name: 'Ø§Ù„Ù†Ø¨Ø£'
    }, {
      num: 79,
      name: 'Ø§Ù„Ù†Ø§Ø²Ø¹Ø§Øª'
    }, {
      num: 80,
      name: 'Ø¹Ø¨Ø³'
    }, {
      num: 81,
      name: 'Ø§Ù„ØªÙƒÙˆÙŠØ±'
    }, {
      num: 82,
      name: 'Ø§Ù„Ø§Ù†ÙØ·Ø§Ø±'
    }, {
      num: 83,
      name: 'Ø§Ù„Ù…Ø·ÙÙÙŠÙ†'
    }, {
      num: 84,
      name: 'Ø§Ù„Ø§Ù†Ø´Ù‚Ø§Ù‚'
    }, {
      num: 85,
      name: 'Ø§Ù„Ø¨Ø±ÙˆØ¬'
    }, {
      num: 86,
      name: 'Ø§Ù„Ø·Ø§Ø±Ù‚'
    }, {
      num: 87,
      name: 'Ø§Ù„Ø£Ø¹Ù„Ù‰'
    }, {
      num: 88,
      name: 'Ø§Ù„ØºØ§Ø´ÙŠØ©'
    }, {
      num: 89,
      name: 'Ø§Ù„ÙØ¬Ø±'
    }, {
      num: 90,
      name: 'Ø§Ù„Ø¨Ù„Ø¯'
    }, {
      num: 91,
      name: 'Ø§Ù„Ø´Ù…Ø³'
    }, {
      num: 92,
      name: 'Ø§Ù„Ù„ÙŠÙ„'
    }, {
      num: 93,
      name: 'Ø§Ù„Ø¶Ø­Ù‰'
    }, {
      num: 94,
      name: 'Ø§Ù„Ø´Ø±Ø­'
    }, {
      num: 95,
      name: 'Ø§Ù„ØªÙŠÙ†'
    }, {
      num: 96,
      name: 'Ø§Ù„Ø¹Ù„Ù‚'
    }, {
      num: 97,
      name: 'Ø§Ù„Ù‚Ø¯Ø±'
    }, {
      num: 98,
      name: 'Ø§Ù„Ø¨ÙŠÙ†Ø©'
    }, {
      num: 99,
      name: 'Ø§Ù„Ø²Ù„Ø²Ù„Ø©'
    }, {
      num: 100,
      name: 'Ø§Ù„Ø¹Ø§Ø¯ÙŠØ§Øª'
    }, {
      num: 101,
      name: 'Ø§Ù„Ù‚Ø§Ø±Ø¹Ø©'
    }, {
      num: 102,
      name: 'Ø§Ù„ØªÙƒØ§Ø«Ø±'
    }, {
      num: 103,
      name: 'Ø§Ù„Ø¹ØµØ±'
    }, {
      num: 104,
      name: 'Ø§Ù„Ù‡Ù…Ø²Ø©'
    }, {
      num: 105,
      name: 'Ø§Ù„ÙÙŠÙ„'
    }, {
      num: 106,
      name: 'Ù‚Ø±ÙŠØ´'
    }, {
      num: 107,
      name: 'Ø§Ù„Ù…Ø§Ø¹ÙˆÙ†'
    }, {
      num: 108,
      name: 'Ø§Ù„ÙƒÙˆØ«Ø±'
    }, {
      num: 109,
      name: 'Ø§Ù„ÙƒØ§ÙØ±ÙˆÙ†'
    }, {
      num: 110,
      name: 'Ø§Ù„Ù†ØµØ±'
    }, {
      num: 111,
      name: 'Ø§Ù„Ù…Ø³Ø¯'
    }, {
      num: 112,
      name: 'Ø§Ù„Ø¥Ø®Ù„Ø§Øµ'
    }, {
      num: 113,
      name: 'Ø§Ù„ÙÙ„Ù‚'
    }, {
      num: 114,
      name: 'Ø§Ù„Ù†Ø§Ø³'
    }];

    const JUZ_29 = [{
      num: 67,
      name: 'Ø§Ù„Ù…Ù„Ùƒ'
    }, {
      num: 68,
      name: 'Ø§Ù„Ù‚Ù„Ù…'
    }, {
      num: 69,
      name: 'Ø§Ù„Ø­Ø§Ù‚Ø©'
    }, {
      num: 70,
      name: 'Ø§Ù„Ù…Ø¹Ø§Ø±Ø¬'
    }, {
      num: 71,
      name: 'Ù†ÙˆØ­'
    }, {
      num: 72,
      name: 'Ø§Ù„Ø¬Ù†'
    }, {
      num: 73,
      name: 'Ø§Ù„Ù…Ø²Ù…Ù„'
    }, {
      num: 74,
      name: 'Ø§Ù„Ù…Ø¯Ø«Ø±'
    }, {
      num: 75,
      name: 'Ø§Ù„Ù‚ÙŠØ§Ù…Ø©'
    }, {
      num: 76,
      name: 'Ø§Ù„Ø¥Ù†Ø³Ø§Ù†'
    }, {
      num: 77,
      name: 'Ø§Ù„Ù…Ø±Ø³Ù„Ø§Øª'
    }];

    // â€”â€” Ø¹Ù†Ø§ØµØ± DOM â€”â€”
    const genderBoy = document.getElementById('genderBoy');
    const genderGirl = document.getElementById('genderGirl');
    const juz30 = document.getElementById('juz30');
    const juz29 = document.getElementById('juz29');
    const surahGrid = document.getElementById('surahGrid');
    const surahInfo = document.getElementById('surahInfo');
    const toast = document.getElementById('toast');
    const startQuizBtn = document.getElementById('startQuizBtn');
    const quizOptionsBtn = document.getElementById('quizOptionsBtn');

    // â€”â€” Ø­Ø§Ù„Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ â€”â€”
    let currentGender = localStorage.getItem('childGender') || null; // 'boy' | 'girl'
    let currentJuz = localStorage.getItem('currentJuz') ? parseInt(localStorage.getItem('currentJuz')) : null; // 29 | 30

    // â€”â€” ØªÙ‡ÙŠØ¦Ø© ÙˆØ§Ø¬Ù‡Ø© â€”â€” 
    init();

    function init() {
      // Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø³Ø§Ø¨Ù‚ Ø¥Ù† ÙˆØ¬Ø¯
      if (currentGender === 'boy') setGender('boy', false);
      if (currentGender === 'girl') setGender('girl', false);
      if (currentJuz === 30) setJuz(30, false);
      if (currentJuz === 29) setJuz(29, false);

      // ØªÙØ§Ø¹Ù„Ø§Øª
      genderBoy.addEventListener('click', () => setGender('boy', true));
      genderGirl.addEventListener('click', () => setGender('girl', true));
      genderBoy.addEventListener('keypress', (e) => e.key === 'Enter' && setGender('boy', true));
      genderGirl.addEventListener('keypress', (e) => e.key === 'Enter' && setGender('girl', true));

      juz30.addEventListener('click', () => setJuz(30, true));
      juz29.addEventListener('click', () => setJuz(29, true));
      juz30.addEventListener('keypress', (e) => e.key === 'Enter' && setJuz(30, true));
      juz29.addEventListener('keypress', (e) => e.key === 'Enter' && setJuz(29, true));

      startQuizBtn.addEventListener('click', startQuiz);
      quizOptionsBtn.addEventListener('click', () => {
        notify('Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø®ÙŠØ§Ø±Ø§Øª ØªÙØµÙŠÙ„ÙŠØ© Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù„Ø§Ø­Ù‚Ø§Ù‹ ğŸ“');
      });

      // Ø¹Ø±Ø¶ Ø§ÙØªØ±Ø§Ø¶ÙŠ
      if (!currentJuz) {
        surahInfo.textContent = 'Ø§Ø®ØªØ± Ø§Ù„Ø¬Ø²Ø¡ Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø³ÙˆØ±.';
      } else {
        renderSurahIndex();
      }
    }

    function setGender(g, notifyUser) {
      currentGender = g;
      localStorage.setItem('childGender', g);

      genderBoy.classList.toggle('active', g === 'boy');
      genderGirl.classList.toggle('active', g === 'girl');
      genderBoy.setAttribute('aria-pressed', g === 'boy' ? 'true' : 'false');
      genderGirl.setAttribute('aria-pressed', g === 'girl' ? 'true' : 'false');

      if (notifyUser) notify(g === 'boy' ? 'ØªÙ… Ø§Ø®ØªÙŠØ§Ø±: ÙˆÙ„Ø¯ ğŸ‘¦' : 'ØªÙ… Ø§Ø®ØªÙŠØ§Ø±: Ø¨Ù†Øª ğŸ‘§');
    }

    function setJuz(j, notifyUser) {
      currentJuz = j;
      localStorage.setItem('currentJuz', j);

      juz30.classList.toggle('active', j === 30);
      juz29.classList.toggle('active', j === 29);
      juz30.setAttribute('aria-pressed', j === 30 ? 'true' : 'false');
      juz29.setAttribute('aria-pressed', j === 29 ? 'true' : 'false');

      renderSurahIndex();
      if (notifyUser) notify(j === 30 ? 'ØªÙ… Ø§Ø®ØªÙŠØ§Ø±: Ø¬Ø²Ø¡ Ø¹Ù… (30)' : 'ØªÙ… Ø§Ø®ØªÙŠØ§Ø±: Ø¬Ø²Ø¡ ØªØ¨Ø§Ø±Ùƒ (29)');
    }

    function renderSurahIndex() {
      const data = currentJuz === 30 ? JUZ_30 : currentJuz === 29 ? JUZ_29 : null;
      surahGrid.innerHTML = '';
      if (!data) {
        surahInfo.textContent = 'Ø§Ø®ØªØ± Ø§Ù„Ø¬Ø²Ø¡ Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø³ÙˆØ±.';
        return;
      }
      surahInfo.textContent = currentJuz === 30 ? 'Ø¬Ø²Ø¡ Ø¹Ù… â€” ÙÙ‡Ø±Ø³ Ø§Ù„Ø³ÙˆØ±' : 'Ø¬Ø²Ø¡ ØªØ¨Ø§Ø±Ùƒ â€” ÙÙ‡Ø±Ø³ Ø§Ù„Ø³ÙˆØ±';

      data.forEach(s => {
        const tile = document.createElement('a');
        tile.className = 'surah-tile';
        tile.setAttribute('role', 'button');
        tile.setAttribute('aria-label', `Ø³ÙˆØ±Ø© ${s.name}`);
        
        // Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„ÙØ¹Ù„ÙŠ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©
        const params = new URLSearchParams({
          num: s.num,
          juz: currentJuz || '',
          gender: currentGender || ''
        });
        tile.href = `surah.html?${params.toString()}`;

        tile.innerHTML = `
          <div class="surah-num">${s.num}</div>
          <div>
            <div class="surah-name">${s.name}</div>
            <small>Ø§Ø¶ØºØ· Ù„Ù„Ø§Ù†ØªÙ‚Ø§Ù„</small>
          </div>
        `;

        tile.addEventListener('click', (e) => {
          e.preventDefault(); // <--- Ù‡Ø°Ø§ Ø§Ù„Ø³Ø·Ø± ÙŠÙ…Ù†Ø¹ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„ØµÙØ­Ø©

          if (!currentJuz) {
            notify('Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ø®ØªØ± Ø§Ù„Ø¬Ø²Ø¡ Ø£ÙˆÙ„Ø§Ù‹.');
          } else {
            // Ø±Ø³Ø§Ù„Ø© Ù…Ø¤Ù‚ØªØ© Ø¨Ø¯Ù„ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„
            notify(`Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¹Ù…Ù„ Ø¹Ù„Ù‰ ØµÙØ­Ø© Ø³ÙˆØ±Ø© ${s.name} ğŸš§`);
          }
        });

        surahGrid.appendChild(tile);
      });

      document.getElementById('indexSection')?.scrollIntoView({
        behavior: 'smooth',
        block: 'start'
      });
    }

    function startQuiz() {
      if (!currentJuz || !currentGender) {
        notify('Ø§Ø®ØªØ± Ø§Ù„Ù†ÙˆØ¹ (ÙˆÙ„Ø¯/Ø¨Ù†Øª) ÙˆØ§Ù„Ø¬Ø²Ø¡ Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±.');
        return;
      }
      
      // Ø±Ø³Ø§Ù„Ø© Ù…Ø¤Ù‚ØªØ© Ø¨Ø¯Ù„ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„ØµÙØ­Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
      notify('ØµÙØ­Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù‡ØªÙƒÙˆÙ† Ø¬Ø§Ù‡Ø²Ø© Ù‚Ø±ÙŠØ¨Ù‹Ø§ Ø¥Ù† Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡ ğŸš€');

      /*
      // Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯ Ø³ÙŠØªÙ… ØªÙØ¹ÙŠÙ„Ù‡ Ù„Ø§Ø­Ù‚Ù‹Ø§ Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ ØµÙØ­Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
      const params = new URLSearchParams({
        juz: currentJuz,
        gender: currentGender
      });
      window.location.href = `quiz.html?${params.toString()}`;
      */
    }

    function notify(msg) {
      toast.textContent = msg;
      toast.classList.add('show');
      clearTimeout(notify._t);
      notify._t = setTimeout(() => toast.classList.remove('show'), 2200);
    }

    function scrollToIndex() {
      document.getElementById('indexSection')?.scrollIntoView({
        behavior: 'smooth',
        block: 'start'
      });
    }
  </script>
</body>
</html>
